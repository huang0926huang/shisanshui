<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>排行榜</title>
<style>
#quit{
	border-radius: 18px;
	color:maroon;
	font-size: 22pt;
	height: 50px;
	width: 150px;
	text-align:center;
	margin-left:820px;
	margin-top:20px;
	}
#thistable{
	margin-top: 50px;
	text-align: center;
	
	}
.bg{
	background-image: url("rank20191012234301.png");
	backgroung-repeat:no-repeat;
	width:1024px;
	height: 576px;
	}
</style>
</head>

<body >
	<div class="bg">
	<a href="首页.html"><button type="button" id="quit">返回首页</button></a>
	<table id="thistable" align="center" border="1" width="500" >
		<tr>
			<th>rank</th>
			<th>player_id</th>
			<th>name</th>
			<th>score</th>
		</tr>
		<tbody id="mytbody">
		
		</tbody>
	</table>
	</div>

<script>
window.onload=function ()
 {
		var data=null;
		var obj;
		var xhr=new XMLHttpRequest();
		xhr.onreadystatechange=function(){
			if(xhr.readyState==4&&xhr.status==200){
				var json=xhr.responseText;
				obj=JSON.parse(xhr.responseText);
				function getJsonLength(obj){
					var jsonLength=0;
					for(var i in obj){
						var j=jsonLength;
						var s=j+1;
						document.getElementById("mytbody").innerHTML+='<tr><td>'+s+'</td><td>'+obj[j].player_id+'</td><td>'+obj[j].name+'</td><td>'+obj[j].score+'</td></tr>';
						jsonLength++;
					}
				}
				getJsonLength(obj);
			}
		}
		
		xhr.open("GET","http://api.revth.com/rank",true);
		xhr.send();
 }
	
</script>

</body>
</html>
